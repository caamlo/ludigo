<div class="container">
  <h1>Mes favoris</h1>

  <div class="mt-4">
    <p><%= link_to "Retour aux activités", activities_path %></p>
  </div>

  <div class="d-grid gap-4 mt-4" style="grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr)); max-width: 1000px; margin: auto;">
    <% @favorites.each do |favorite| %>
      <div class="card activity-card" style="width: 18rem; margin: auto;">

        <!-- Bouton de suppression -->
        <div class="text-end me-2">
          <%= link_to favorite_path(favorite), data: { turbo_method: :delete, turbo_confirm: "Êtes-vous sûr ?" } do %>
            <i class="fa-solid fa-xmark" aria-hidden="true"></i>
            <span class="sr-only">Supprimer</span>
          <% end %>
        </div>

        <!-- Titre et lien -->
        <h2 class="h5 text-center mt-2">
          <%= link_to favorite.activity.name, activity_path(favorite.activity), class: "text-decoration-none" %>
        </h2>


        <!-- Image de l'activité -->
        <div class="image-container text-center">
          <%= image_tag "board-game.png", class: "w-100 object-fit-cover rounded-4", height: '200px' %>
        </div>

          <!-- Icônes de l'activité -->
        <div class="activity-icons d-flex justify-content-center gap-3 mt-3 mb-3">
          <div class="circle">
            <%= image_tag favorite.activity.image_for_setting, alt: favorite.activity.setting, class: "activity-icon" %>
          </div>
          <div class="duration-container circle">
            <%= favorite.activity.formatted_duration %> <span class="break-min">min</span>
          </div>
          <div class="circle"><%= favorite.activity.formatted_age %></div>
        </div>


        <!-- Description -->
        <div class="activity-card-description mt-3 px-3">
          <%= link_to activity_path(favorite.activity), class: "text-decoration-none" do %>
            <p class="card-text">
              <%= favorite.activity.description[0..110] %> <strong>... afficher plus</strong>
            </p>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
</div>


<!-- Zone indépendante pour le cœur en haut de la carte -->
<%# <div class="favorite-container position-relative">
                <%= link_to toggle_activity_favorites_path(activity),
                            data: { turbo_method: :post },
                            id: "favorite_button_#{activity.id}",
                            class: "favorite-button p-2" do %>
                  <%# <% if current_user.favorites.exists?(activity: activity) %>
                    <%# <i class="fa-solid fa-heart text-danger"></i>
                  <% else %>
                    <%# <i class="fa-regular fa-heart text-danger"></i>
                  <% end %>
                <%# <% end %>
              <%# </div> %>
