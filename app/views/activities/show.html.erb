<div class="container mt-4">
<h1><%= @activity.name %></h1>

<%= link_to toggle_activity_favorites_path(@activity),
  data: { turbo_method: :post },
  id: "favorite_button_#{@activity.id}" do %>
  <% if @activity.photo.attached? %>
    <%= cl_image_tag @activity.photo.key, class: "w-100 object-fit-cover position-center rounded-4", height: '200px' %>
  <% else %>
    <%= image_tag "board-game.png", class: "w-100 object-fit-cover position-center rounded-4", height: '200px' %>
  <% end %>

  <% if current_user.favorites.exists?(activity: @activity) %>
    <i class="fa-solid fa-heart text-danger"></i>
  <% else %>
    <i class="fa-regular fa-heart text-danger"></i>
  <% end %>
<% end %>

<div class="activity-card-description mt-3">
<p class="card-text"><%= @activity.description %></p>
</div>

<div class="activity-card-description mt-3">
  <div class="circle">
    <%= image_tag @activity.image_for_setting, alt: @activity.setting, class: "activity-icon" %>
  </div>
  <p class><%= @activity.setting %></p>

  <div class="circle"><%= @activity.formatted_duration %></div>
  <p class><%= @activity.duration ? @activity.duration : "durée indéterminée" %></p>

  <div class="circle"><%= @activity.formatted_age %></div>
  <p class><%= @activity.minimum_age ? @activity.minimum_age : "Aucun âge minimum requis" %></p>
<p class><%= @activity.material %></p>
</div>


<%= link_to "Retour à la liste d'activités", activities_path, class: "text-decoration-none d-block text-center mt-2" %>
</div>
